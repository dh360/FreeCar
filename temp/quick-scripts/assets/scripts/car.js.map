{"version":3,"sources":["car.js"],"names":["cc","Class","extends","Component","properties","moveDir","default","v2","displayName","tootltip","speed","speedType","STOP","toottip","move","degrees","misc","radiansToDegrees","Math","atan2","y","x","node","rotation","addDelta","mul","_moveSpeed","newPosition","position","add","setPosition","update","dt"],"mappings":";;;;;;AAAA;;AAIAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACR;AACAC,iBAAS;AACLC,qBAASN,GAAGO,EAAH,CAAM,CAAN,EAAS,CAAT,CADJ;AAELC,yBAAa,WAFR;AAGLC,sBAAU;AAHL,SAFD;AAOR;AACAC,eAAO;AACHJ,qBAASK,uBAAUC,IADhB;AAEHJ,yBAAa,cAFV;AAGHK,qBAAS;AAHN;AARC,KAFP;;AAiBLC,QAjBK,kBAiBE;AACH;AACA,YAAIC,UAAUf,GAAGgB,IAAH,CAAQC,gBAAR,CAAyBC,KAAKC,KAAL,CAAW,KAAKd,OAAL,CAAae,CAAxB,EAA2B,KAAKf,OAAL,CAAagB,CAAxC,CAAzB,CAAd;AACA,aAAKC,IAAL,CAAUC,QAAV,GAAqB,KAAKR,OAA1B;AACA;AACA,YAAIS,WAAW,KAAKnB,OAAL,CAAaoB,GAAb,CAAiB,KAAKC,UAAL,GAAkB,EAAnC,CAAf;AACA,YAAIC,cAAc,KAAKL,IAAL,CAAUM,QAAV,CAAmBC,GAAnB,CAAuBL,QAAvB,CAAlB;AACA,aAAKF,IAAL,CAAUQ,WAAV,CAAsBH,WAAtB;AACH,KAzBI;AA2BLI,UA3BK,kBA2BEC,EA3BF,EA2BM;;AAEP,gBAAQ,KAAKrB,SAAb;AACI,iBAAK,MAAL;AACI,qBAAKD,KAAL,GAAa,CAAb;AACA;;AAEJ,iBAAK,QAAL;AACI,qBAAKA,KAAL,GAAa,CAAb;AACA;;AAEJ,iBAAK,MAAL;AACI,qBAAKA,KAAL,GAAa,CAAb;AACA;;AAEJ;AACI;AAdR;;AAiBA,aAAKI,IAAL;AACH;AA/CI,CAAT","file":"car.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["import {\n    speedType\n} from './carSettings'\n\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        //前进方向 \n        moveDir: {\n            default: cc.v2(0, 1),\n            displayName: 'move  dir',\n            tootltip: '移动方向'\n        },\n        //速度档位\n        speed: {\n            default: speedType.STOP,\n            displayName: 'move  speed!',\n            toottip: '移动速度'\n        }\n    },\n\n    move() {\n        // 改变方向\n        let degrees = cc.misc.radiansToDegrees(Math.atan2(this.moveDir.y, this.moveDir.x));\n        this.node.rotation = 90 - degrees;\n        //改变位置\n        let addDelta = this.moveDir.mul(this._moveSpeed / 60);\n        let newPosition = this.node.position.add(addDelta);\n        this.node.setPosition(newPosition);\n    },\n\n    update(dt) {\n\n        switch (this.speedType) {\n            case 'STOP':\n                this.speed = 0;\n                break;\n\n            case 'NORMAL':\n                this.speed = 1;\n                break;\n\n            case 'FAST':\n                this.speed = 2;\n                break;\n\n            default:\n                break;\n        }\n\n        this.move();\n    }\n});"]}